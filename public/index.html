<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Arimo" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
    <title>Art Database</title>
</head>

<body>
    <div id="app" @keydown.esc="closeForm">
        <nav class="navbar navbar-dark bg-dark">
            <span class="navbar-brand"><svg width="30" height="30" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="palette" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-palette fa-w-16 fa-2x">
                    <path fill="currentColor" d="M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"
                        class=""></path>
                </svg> Art Database </span>
            <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
                <li class="nav-item">
                    <div v-if="user" class="navbar-text">Welcome {{user.username}} <button class="btn btn-outline-secondary logoutbutton" href="#" @click="logout">Logout</button></div>
                    <div v-else><button class="btn btn-primary logoutbutton" href="#" @click="toggleForm">Register or Login</button></div>
                </li>
            </ul>
        </nav>



        <transition v-if="showForm" name="modal">
            <div class="modal-mask">
                <div class="modal-wrapper">
                    <div class="modal-container">

                        <div class="card">
                            <article class="card-body">
                                <h4 class="card-title text-center mb-4 mt-1">Sign in</h4>
                                <hr>
                                <p v-if="error" class="text-danger text-center error">{{error}}</p>
                                <form>
                                    <div class="form-group">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                                            </div>
                                            <input v-model="username" name="" class="form-control" placeholder="Username" type="text">
                                        </div> <!-- input-group.// -->
                                    </div> <!-- form-group// -->
                                    <div class="form-group">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                                            </div>
                                            <input v-model="password" class="form-control" placeholder="******" type="password">
                                        </div> <!-- input-group.// -->
                                    </div> <!-- form-group// -->
                                    <div class="form-group">
                                        <button @click="login" type="submit" class="btn btn-primary btn-block"> Login </button>
                                        <button @click="register" type="submit" class="btn btn-success btn-block"> Register </button>
                                    </div> <!-- form-group// -->
                                    <p class="text-center"><a href="#" class="btn">Forgot password?</a></p>
                                </form>
                            </article>
                        </div> <!-- card.// -->

                    </div>
                </div>
            </div>
        </transition>


        <div class="content">
            <form @submit.prevent="addTicket">
                <input v-model="addedName" placeholder="Name"></p>
                <textarea v-model="addedProblem"></textarea>
                <br />
                <button type="submit">Submit</button>
            </form>

            <h3>Tickets</h3>
            <div v-for="ticket in tickets">
                <hr>
                <div class="ticket">
                    <div class="problem">
                        <p>{{ticket.problem}}</p>
                        <p><i>-- {{ticket.name}}</i></p>
                    </div>
                    <div class="delete">
                        <button @click="deleteTicket(ticket)" class="delete">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js" integrity="sha256-mpnrJ5DpEZZkwkE1ZgkEQQJW/46CSEh/STrZKOB/qoM=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.7/vue.js" integrity="sha256-g+Q8DFAmG5+eyRPSydX0LY4TfjsL11XSDrIGerbbEdA=" crossorigin="anonymous"></script>
    <script src="/script.js"></script>
</body>

</html>
